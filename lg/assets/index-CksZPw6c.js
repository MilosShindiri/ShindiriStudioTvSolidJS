import{i as E,c as ee,s as te,m as ne,a as s,V as F,g as Fe,T as B,b as me,F as L}from"./index-DE6kCyYw.js";function oe(e,t){return e?t?{...t,...e}:e:t}const ye=(e,t,o)=>t<o?Math.min(Math.max(e,t),o):Math.min(Math.max(e,o),t);function O(e,t){return e===0||e>=0&&e<t.length}function ie(e,t=0,o=1){var i;for(let c=t;;c+=o){if(!O(c,e.children))if(e.wrap)c=(c+e.children.length)%e.children.length;else break;if(!((i=e.children[c])!=null&&i.skipFocus))return c}return-1}function re(e,t){var c;const o=e.children[t];if(o==null||o.skipFocus)return e.selected=-1,!1;const i=e.selected;return e.selected=t,E(o)||o.setFocus(),(c=e.onSelectedChanged)==null||c.call(e,t,e,o,i),!0}const se=function(){const e=this;let t=e.selected;if(t!==0)for(t=ye(t,0,this.children.length-1);!O(t,this.children);)t--;return t=ie(e,t),e.selected=t,re(e,t)};function P(e){return function(){return we(this,e==="up"||e==="left"?-1:1)}}function we(e,t){var c;let o=ie(e,e.selected+t,t);if(o===-1){if(!O(e.selected,e.children)||(c=e.children[e.selected])!=null&&c.skipFocus||E(e.children[e.selected]))return!1;o=e.selected}const i=e.children[o];if(e.plinko){const h=e.children[e.selected].selected||0;i.selected=h<i.children.length?h:i.children.length-1}return re(e,o)}const Ce=8,K=e=>e.lng.renderState!==Ce;function ce(e){const t=e?"width":"height",o=e?"x":"y";return(i,c,d,h)=>{var z,$,U,Z,A,H,V,X,j,W,Y,G,J;let n=c;if(typeof i!="number"&&(n=i,i=n.selected||0),!n||n.scroll==="none"||i===h||!n.children.length)return;n._initialPosition===void 0&&(n._initialPosition=n[o]);const x=n.lng,S=e?x.stage.root.width:x.stage.root.height,u=h===void 0||h-1!==i;if(n._screenOffset===void 0){if(n.parent.clipping){const a=n.parent;n.endOffset=(z=n.endOffset)!=null?z:S-((e?a.absX:a.absY)||0)-a[t]}n._screenOffset=($=n.offset)!=null?$:(e?x.absX:x.absY)-n[o]}const D=n._screenOffset,m=n.gap||0,y=n.scroll||(h===void 0?n.scrollIndex?"center":"always":"auto"),N=(U=n._targetPosition)!=null?U:n[o],l=u?Math.min(N,n[o]):Math.max(N,n[o]);n.offset=(Z=n.offset)!=null?Z:l;const f=n.offset;if(d=d||n.children[i],!d)return;const w=(A=d[o])!=null?A:0,C=(H=d[t])!=null?H:0,ae=(W=(j=d.scale)!=null?j:(X=(V=d.style)==null?void 0:V.focus)==null?void 0:X.scale)!=null?W:1,R=C*ae,de=(Y=n[t])!=null?Y:0,M=Math.min(S-de-D-((G=n.endOffset)!=null?G:2*m),f),he=u?i+1:i-1,k=n.children[he]||null;let r=l;if(d.centerScroll)r=-w+(S-R)/2;else if(y==="always")r=-w+f;else if(y==="bounded"){const a=n.children.length,v=n.upCount||6,b=Math.max(0,a-v),ue=i>=b,q=i===b,fe=q&&h!==void 0&&h<b;if(!ue)r=-w+f;else if(u)if(fe){const I=n.children[b],ge=(J=I==null?void 0:I[o])!=null?J:0;r=I?-ge+f:l}else r=l;else q?r=-w+f:r=l}else if(y==="center"){const a=-w+(S-R)/2-D;r=Math.min(Math.max(a,M),f)}else if(!k)r=u?M:f;else if(y==="auto")if(n.scrollIndex&&n.scrollIndex>0){const v=n.children.length-n.scrollIndex;u&&n.selected>=n.scrollIndex?r=l-C-m:!u&&n.selected<v&&(r=l+C+m)}else u?r=l-C-m:r=l+C+m;else u&&K(k)?r=l-C-m:K(k)&&(r=-w+f);if(r=u&&y!=="always"&&y!=="bounded"?Math.max(r,M):Math.min(r,f),n[o]!==r){if(n.onScrolled){const a=r===n._initialPosition;n.onScrolled(n,r,a)}n[o]=r,n._targetPosition=r}}}const T=ce(!0),_=ce(!1);function g(...e){const t=e.filter(o=>typeof o=="function");if(t.length!==0)return t.length===1?t[0]:function(...o){let i;for(const c of t)if(i=c.apply(this,o),i===!0)return i;return i}}const xe={display:"flex",flexDirection:"column",gap:30,transition:{y:{duration:250,easing:"ease-in-out"}}};function Se(e){var t;this.selected=e,_(e,this),(t=this.children[e])==null||t.setFocus()}const be=P("up"),Ie=P("down"),le=e=>(()=>{var t=ee("view");return te(t,ne(e,{onUp:g(e.onUp,be),onDown:g(e.onDown,Ie),get selected(){return e.selected||0},scrollToIndex:Se,forwardFocus:se,onLayout:e.selected?g(e.onLayout,_):e.onLayout,onSelectedChanged:g(e.onSelectedChanged,e.scroll!=="none"?_:void 0),style:oe(e.style,xe)}),!1),t})(),Pe={display:"flex",gap:30,transition:{x:{duration:250,easing:"ease-in-out"}}};function Me(e){var t;this.selected=e,T(e,this),(t=this.children[e])==null||t.setFocus()}const ke=P("left"),ve=P("right"),Q=e=>(()=>{var t=ee("view");return te(t,ne(e,{get selected(){return e.selected||0},onLeft:g(e.onLeft,ke),onRight:g(e.onRight,ve),forwardFocus:se,scrollToIndex:Me,onLayout:e.selected?g(e.onLayout,T):e.onLayout,onSelectedChanged:g(e.onSelectedChanged,e.scroll!=="none"?T:void 0),style:oe(e.style,Pe)}),!1),t})(),Le={scale:1,$focus:{scale:1.1}},Te={fontFamily:"Inter",fontWeight:400,fontSize:24,maxLines:1,contain:"width",lineHeight:1,color:4294967193,$focus:{color:4294967295}},_e={borderRadius:6,$focus:{border:{width:6,color:3978044671}}},pe=e=>{const{title:t,poster_path:o}=e.item;return s(F,{id:"card",get width(){return e.style.width},get height(){return e.style.height},display:"flex",flexDirection:"column",gap:16,style:Le,forwardStates:!0,get children(){return[s(F,{id:"pic",style:_e,get src(){return Fe(o,"w342")}}),s(B,{id:"text",get y(){return e.style.height},get width(){return e.style.width},style:Te,children:t})]}})},[Be,Oe]=me(" "),De=""+new URL("background-D7NRJyvC.jpg",import.meta.url).href;function Ne(){return s(F,{id:"background",width:1920,height:1080,get src(){return Be()}})}const p={homeCard:{width:229,height:300},page:{width:1920,height:1080},topChannels:{width:312,height:837,borderRadius:16,color:255}},Re={width:280,height:136,color:404232447,borderRadius:16,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:24},ze=e=>(console.log(e.channel),s(F,{style:Re,id:"card",get children(){return[s(F,{width:45,height:45,get src(){return"assets/channels/"+e.channel.image}}),s(B,{get children(){return e.channel.name}})]}})),$e=[{name:"CBS",image:"CBS.png"},{name:"NBC",image:"NBC.png"},{name:"ABC",image:"ABC.png"},{name:"Fox",image:"FOX.png"},{name:"Fox News Channel",image:"FNC.png"}],Ue=()=>s(le,{get style(){return p.topChannels},alignItems:"center",get children(){return s(L,{each:$e,children:e=>s(ze,{channel:e})})}}),Ze={fontFamily:"Inter",fontWeight:700,fontSize:24,letterSpacing:.06,color:4294967295},He=e=>(Oe(De),s(F,{get style(){return p.page},get children(){return[s(Ne,{}),s(F,{id:"gradient",width:1920,height:1080,colorTl:"#0000000",colorBr:353703423}),s(Q,{id:"homeContainer",y:125,x:62,scroll:"none",get children(){return[s(le,{id:"mediaContainer",width:1241,height:404,autofocus:!0,get children(){return s(L,{get each(){return e.data.rows},children:t=>[s(B,{style:Ze,get children(){return t.title}}),s(Q,{y:45,width:1241,height:359,gap:24,scroll:"none",forwardFocus:0,get children(){return s(L,{get each(){return t.items()},children:o=>s(pe,{item:o,get style(){return p.homeCard},forwardFocus:0})})}})]})}}),s(Ue,{})]}})]}}));export{He as default};
